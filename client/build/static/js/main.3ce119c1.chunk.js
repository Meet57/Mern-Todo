(this["webpackJsonpmern-crud"]=this["webpackJsonpmern-crud"]||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(27),a(28),a(9)),i=a(2),s=a(1),u=a.n(s),m=a(4),p=a(8),d=function(e,t){return fetch("/api/".concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})},f=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/").then((function(e){return e.json()}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Todo List"),r.a.createElement("table",{className:"table table-striped mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Text"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.text),r.a.createElement("td",null,r.a.createElement(l.b,{to:"/edit/".concat(e._id)},"Edit")))}))))))},E=a(21),v=function(e){var t=e.todo,a=e.onSubmit,n=Object(E.a)({defaultValues:{text:t?t.text:""}}),c=n.register,o=(0,n.handleSubmit)((function(e){a(e)}));return r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Text:"),r.a.createElement("input",{className:"form-control",ref:c,type:"text",name:"text",id:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save Todo")))},h=function(){var e=Object(i.f)(),t=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=a,fetch("/api/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:e.push("/");case 3:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Create Todo Item"),r.a.createElement(v,{onSubmit:t})))},b=function(){var e=Object(i.g)(),t=Object(n.useState)(),a=Object(p.a)(t,2),c=a[0],o=a[1],l=Object(i.f)();Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=e.params.id,fetch("/api/".concat(n)).then((function(e){return e.json()}));case 2:a=t.sent,o(a);case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var s=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(a,e.params.id);case 2:l.push("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Edit Todo Item"),r.a.createElement(v,{todo:c,onSubmit:s}))):r.a.createElement("div",null,"Loading...")};var j=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar bg-light navbar-expand-lg navbar-light"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(l.b,{to:"/",className:"nav-link"},"Todos")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(l.b,{to:"/create",className:"nav-link"},"Create Todo")))),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:f}),r.a.createElement(i.a,{path:"/edit/:id",component:b}),r.a.createElement(i.a,{path:"/create",component:h})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.3ce119c1.chunk.js.map